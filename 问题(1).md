---
title: question
date: 2018-12-01
categories: 杂项
---

# 1.display:inline-block
- 产生左右空隙原因：标签之间有空格或换行
- 解决：移除空格或换行，或者在父元素设置font-size:0;
- 产生上下错位原因：设置display:inline-block的元素，font-size不同
- 解决在当前元素设置：vertical-align:top;

# 2.浏览器间微小像素差
- 只设置了line-height，而未设置height

# 3.overflow:hidden失效
- 原因：在子孙元素中设置了属性 position:absolute
- 解决：在父元素中添加属性 position:relative

# 4.echarts折线图
- 折线图线的拐点和图例的颜色，与折线的颜色需要分别设置
- 只需要在legend上面添加：color: ['#c23531']

# 5.安装依赖
- 运行时依赖：npm install xxx (等同于npm install xxx -S)
- 开发时依赖：npm install xxx -D

# 6.export与export default区别
- 在一个文件或模块中，export和import可以有多个，但export default仅有一个
- 使用export方式导出时，在导入时要加{}

# 7.vue生命周期
- beforecreated：el和data未初始化 
- created：完成了data的初始化，未完成el的初始化
- beforeMount：完成了data和el的初始化
- mounted ：完成挂载
- axios发送请求是在所有的生命周期执行之后，若想将返回的第一个值设为默认值，可写入到成功返回函数中

# 8.vue通过引入文件夹来引入组件
- 文件夹内文件必须命名为index.vue

# 9.一个axios的请求需要用到另一个axios请求中的数据
- 因为axios请求异步，所以必须将此请求放入到前者的成功回调中
```
this.axios.post('api/xxx')
.then((res)=>{
  this.RegionalModelOptions = res.data
  this.formData.RegionalModel= res.data[0]
  this.getTableData() 
})
```

# 10.npm run build放入项目中刷新页面后报404错误
- 去掉router文件夹中的：mode: 'history'

# 11.获取数组中多个对象中相同的某个属性
```
this.multipleSelection.map(n => {
  this.obj2.tids.push(n.xxx)
})
```

# 12.循环使图片标题依次显示
```
<li v-for="(item,index) in items" :key="index">
  {{top250Title[item]}}
  <img :src="top250Imgurl[item].url" alt="">
</li>
```

# 13.图片加载失败显示默认图片
```
//img中添加
:onerror="defaultImg"

//data中添加
defaultImg: 'this.src="' + require('../../../../static/loading.gif') + '"'
```

# 14.刷新后数据丢失
- 使用query替代params

# 15.路由跳转后，滚动条回到顶部
- 在main.js中添加
```
router.afterEach((to,from,next) => {
  window.scrollTo(0,0);
})
```

# 16.设置多个代理
- 命名为空时，只能设置一个代理
```
proxyTable: {
  // '/': {
  //   target: 'http://10.10.102.225:7777/',
  //   changeOrigin: true,
  //   pathRewrite: {
  //     '^/': ''
  //   }
  // },
  '/api': {
    target: 'http://10.10.101.219:8088',
    changeOrigin: true,
    pathRewrite: {
      '^/api': ''
    }
  }
}
```

# 17.element-ui table某一格数据为空时，显示暂无数据
- chrome浏览器不支持MP3播放，在ie和服务器上MP3播放正常
```
<el-table-column
  label="录音"
  width="120"
  >
  <template slot-scope="scope">
    <template v-if="scope.row.RecordUrl">
      <el-button @click="handleEdit(scope.$index, scope.row)">查看录音</el-button>
    </template>
    <template v-else>
      <span>暂无数据</span>
    </template>
  </template>
</el-table-column>
```

# 18.vue无法检测到数组变化
- 当利用索引直接设置一个项时
- 当修改数组长度时
```
// 禁止使用以下写法
this.tableData.items[0] = 0 
this.tableData.length = 2
```

# 19.vue v-model双向绑定原理
- oninput事件：在input或textarea元素的值发生变化时触发
- onchange事件：元素失去焦点时触发
- v-model.lazy可将input事件转变为使用change事件
```
<input :value="something" @input="something = $event.target.value">
```

# 20.字符串数组操作
```
let str='hello world!'
String.prototype.test=function() {
  return this.replace(' ','').split('').join(' ')
}
console.log(str.test())
```

# 21.找出字符串中连续最大的数
```
function findMax(val) {
  const reg = /\d+/g;
  const max = Math.max(...val.match(reg));
  console.log(max);
}
findMax('sff9s999sd7fsdg')
```

# 22.element-ui NavMenu样式绑定
- 计算属性有缓存，所以刷新页面之后样式不会改变
```
//this.$route.name等价于this.$router.history.current.name

:default-active="onRouters"

computed: {
  onRouters() {
    return this.$route.name
  }
}
```

# 23.路由监听
- watch监听路由改变，刷新页面时再次请求，防止数据丢失
```
watch: {
  '$route': 'fetchData'
},
methods: {
  fetchData() {
    console.log(this.$route)
  }
}
```

# 24.this指向与箭头函数
```
var a=111
let obj={
  a:222,
  test: function() {
    let that=this
    return function() {
      console.log(that.a)
      console.log(this.a)
    }
  },
  test2: function() {
    return () => {
      console.log(this.a)
    }
  }
}
obj.test()()
obj.test2()()
// 222 111 222
```

# 25.对象的深拷贝
```
let {...obj2}=obj

let obj2=JSON.parse(JSON.stringify(obj))

function copy(obj) {
  let tem={}
  for(let key in obj){
    tem[key]=obj[key]
  }
  return tem
}
let obj2=copy(obj)
```

# 26.call，apply，bind区别
```
var a=1
var obj={
  a:2
}
function f(e1,e2){
  console.log(`${this.a} ${e1} ${e2} `)
}
f.call(obj,6,7)
f.apply(obj,[6,7])
f.bind(obj)(6,7)
// 2 6 7
```

# 27.在vue中使用animate.css
- 安装依赖之后，在main.js中全局引用
```
npm install animate.css

// import 'animate.css'
import animate from 'animate.css'
Vue.use(animate)
```

# 28.v-model双向绑定失效
```
this.union={}
//更改为
this.union={
  name: '',
  text: ''
}
```

# 29.element ui Dialog与select的z-index问题
- 强制覆盖原z-index
```
div.el-select-dropdown{
  z-index: 9999 !important;
}
div.v-modal{
  z-index: 2000 !important;
}
```

# 30.left的使用
- 设置position为absolute时：父元素宽高默认100%
- 设置position为relative时：父元素宽默认100%
- 当父元素宽高未设置时，子元素设置垂直居中必须用absolute,否则在高度上无效
```
.box{
  position: absolute;
  width: 200px;
  height: 200px;
  background-color: red;
  top: 50%;
  left: 50%;
  transform: translate(-50%,-50%);
}
```

# 1.字符串没有reverse方法
```
// 字符串逆转
'hello'.split('').reverse().join('')    
```

# 2.只有当实例被创建时data中存在的属性才是响应式的
```
//对b的改动不会触发视图的更新
var data = { a: 1 }
var vm = new Vue({
  data: data
})
vm.b='hi'
```

# 3.数组非响应
```
var vm = new Vue({
  data: {
    items: ['a', 'b', 'c']
  }
})
vm.items[1] = 'x' 
vm.items.length = 2 

//替换
vm.items.splice(1, 1, 'x')
vm.items.splice(2)
```

# 4.data必须是一个函数
```
data() {
  return {
    count: 0
  }
}
```

# 5.闭包获取函数内部变量的值
```
let a=(()=>{
  let a=666;
  return ()=>a;
})()()
console.log(a)
```

# 6.new操作符的作用
```
var obj = new Base();
//等价于
var obj  = {};
obj._proto_ = Base.prototype;
Base.call(obj);
```

# 7.浏览器刷新的问题
```
//1.需要强制刷新的情况
登录状态使用vuex保存
删除收藏

//2.刷新之后丢失数据的情况
vue-router：使用query替代parmas
vuex：在index.vue的created生命周期钩子函数中将数据保存到store
```
# 8.实现深拷贝
```
let obj1 = {
    a:1,
    b:2,
}
let obj2 = JSON.parse(JSON.stringify(obj1))
```

# 9.获取url参数并将其转变为json对象
```
let str="http://url/api?param=2&param2=4";
let index=str.indexOf('?');
let obj=new Object;
let aParams=str.slice(index+1).split('&');
for(let i=0;i<aParams.length;i++){
  let aParam=aParams[i].split('=');
  obj[aParam[0]]=aParam[1];
}
console.log(obj);
```
# 10.vue排序
```
//定义全局函数
function sortNumber(a,b){
     return a-b；
}

data(){
    return{
      items:[1,2,5,35,4]
    }
  },
computed:{
    sortItems(){
      return this.items.sort(sortNumber);
    }
  }
```

# 11.重置css全局默认样式
- [地址](https://cssreset.com/scripts/eric-meyer-reset-css/)
```
// 在main.js中引入
import '@/css/reset.css'

// reset.css
html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed, 
figure, figcaption, footer, header, hgroup, 
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
	margin: 0;
	padding: 0;
	border: 0;
	font-size: 100%;
	font: inherit;
	vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure, 
footer, header, hgroup, menu, nav, section {
	display: block;
}
body {
	line-height: 1;
}
ol, ul {
	list-style: none;
}
blockquote, q {
	quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
	content: '';
	content: none;
}
table {
	border-collapse: collapse;
	border-spacing: 0;
}

/* 额外 */
h1, h2 {
    font-weight: normal;
}
ul {
    list-style-type: none;
    padding: 0;
}
li {
    display: inline-block;
    margin: 0 10px;
}
a {
    color: #42b983;
    text-decoration: none;
    display: inline-block;
}
/* 去除inline-block间隙*/
.FontSize0{
    font-size: 0;
}
```

# 12.vs code设置vue模板
- Ctrl+Shift+P
- snippets
- vue
```
{
    "Print to console": {
        "prefix": "vue",
        "body": [
            "<template>",
            "  <div>\n",
            "  </div>",
            "</template>\n",
            "<script>",
            "export default {",
            "  data () {",
            "    return {\n",
            "    }",
            "  }",
            "}",
            "</script>\n",
            "<style scoped>\n",
            " ",
            "</style>",
            "$2"
        ],
        "description": "Log output to console"
    }
}
```

# 13.vs code设置成中文
- Ctrl+Shift+P
- language
- 安装中文简体语言包

# 14.vs code合并分支
- Ctrl+Shift+P
- git merge
- 选择要合并的分支
- 推送到当前分支
- 图形化工具：SourceTree 

# 15.vue选项卡
```
<div id="tab">
    <div class="tab-bar">
      <a v-for="(item,index) in items"
        @click="tab(index)"
        :class="{active : index===curId}"
        :key="index"
      >{{item.item}}</a>
    </div>
    <div class="tab-con">
      <div
        v-show="index===curId"
        v-for="(content, index) in contents" 
        :key="index"
        >{{content.content}}</div>
    </div>
  </div>
```

# 16.vs code配置bash终端
- Ctrl+Shift+P
- setting
```
"terminal.integrated.shell.windows": "D:\\git\\bin\\bash.exe"
```

